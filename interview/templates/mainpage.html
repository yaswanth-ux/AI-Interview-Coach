{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Main Dashboard - AI Interview Coach</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background: linear-gradient(to left, #0f2027, #092445, #288186);
      color: white;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      background-color: #111;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      position: relative;
    }

    .hero {
      display: flex;
      align-items: center;
      justify-content: space-between;
      min-height: 70vh;
      padding: 4rem 6rem;
    }

    .hero-text {
      max-width: 50%;
    }

    .hero-text h2 {
      font-size: 2rem;
      line-height: 1.3;
      overflow: hidden;
      white-space: nowrap;
      border-right: 2px solid #66fcf1;
      width: 0;
    }
    .typing-text {
      display: inline-block;
      font-size: 2rem;
      font-weight: bold;
      white-space: nowrap;
      overflow: hidden;
      border: none;
      animation: typing 3s steps(25, end) forwards;
    }

    .cursor {
      display: inline-block;
      font-weight: normal;
      color: #66fcf1;
      animation: blink-caret 0.75s step-end infinite;
    }

    /* Typing animation */
    @keyframes typing {
      from { width: 0; }
      to { width: 100%; }
    }

    /* Cursor blinking animation */
    @keyframes blink-caret {
      0%, 100% { opacity: 0; }
      50% { opacity: 1; }
    }


    .hero-text p {
      font-size: 1.25rem;
    }

    .hero-text p,
    .start-btn {
      opacity: 0;
      animation: fadeIn 2s ease-in-out 3s forwards; /* delay to match typing */
    }

    @keyframes fadeIn {
      to { opacity: 1; }
    }


    .start-button {
      display: inline-block;
      margin-top: 2rem;
      padding: 1rem 2.5rem;
      font-size: 1.1rem;
      font-weight: bold;
      color: #fff;
      text-decoration: none;
      background: linear-gradient(135deg, #238b1b, #8ba535);
      border-radius: 50px;
      box-shadow: 0 0 20px #6c63ff, 0 0 30px #6c63ff inset;
      transition: all 0.3s ease-in-out;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .start-button:hover {
      background: linear-gradient(135deg, #7f75f0, #a499ff);
      box-shadow: 0 0 30px #8e7bff, 0 0 50px #8e7bff inset;
      transform: scale(1.05);
    }


    .about {
      padding: 4rem 6rem;
      background-color: #101820;
      text-align: center;
    }

    .about h2 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    .about p {
      font-size: 1.1rem;
      max-width: 800px;
      margin: 0 auto;
      line-height: 1.7;
    }


    header h1 {
      font-size: 2rem;
      color: #90cdf4;
    }

    .profile-container {
      position: relative;
      display: inline-block;
    }

    .profile {
      background-color: #6366f1;
      color: white;
      padding: 8px 18px;
      border-radius: 20px;
      text-decoration: none;
      font-weight: 600;
      font-size: 1rem;
      cursor: pointer;
    }

    .dropdown-menu {
      display: none;
      position: absolute;
      top: 48px;
      right: 0;
      background-color: #1a1a1a;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
      border-radius: 10px;
      overflow: hidden;
      min-width: 160px;
      z-index: 10;
    }

    .dropdown-menu a {
      display: block;
      padding: 12px 16px;
      text-decoration: none;
      color: white;
      font-size: 0.95rem;
      border-bottom: 1px solid #333;
    }

    .dropdown-menu a:hover {
      background-color: #333;
    }


    .text-content {
      flex: 1;
      animation: fadeInLeft 1.2s ease;
    }

    .text-content h2 {
      font-size: 4rem;
      font-weight: 900;
      margin-bottom: 1rem;
    }

    .text-content a {
      display: inline-block;
      background-color: #6366f1;
      color: white;
      padding: 16px 32px;
      border-radius: 30px;
      text-decoration: none;
      font-size: 1.2rem;
      font-weight: 600;
      margin-top: 1.5rem;
      transition: background 0.3s, box-shadow 0.3s;
    }

    .text-content a:hover {
      background-color: #7a73ff;
      box-shadow: 0 0 15px #6366f1;
    }

    .robot-gif {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      animation: float 3s ease-in-out infinite;
    }

    .robot-gif img {
      max-width: 900px;
      width: 600%;
      filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.2));
    }

    @keyframes float {
      0% { transform: translateY(0); }
      50% { transform: translateY(-20px); }
      100% { transform: translateY(0); }
    }

    @keyframes fadeInLeft {
      from { opacity: 0; transform: translateX(-50px); }
      to { opacity: 1; transform: translateX(0); }
    }

    @media (max-width: 900px) {
      .main-content {
        flex-direction: column;
        text-align: center;
        padding: 2rem;
      }
    @keyframes pulse {
      0% { box-shadow: 0 0 20px #6c63ff, 0 0 30px #6c63ff inset; }
      50% { box-shadow: 0 0 30px #8e7bff, 0 0 40px #8e7bff inset; }
      100% { box-shadow: 0 0 20px #6c63ff, 0 0 30px #6c63ff inset; }
    }

    .start-button {
        animation: pulse 2s infinite;
    }


    .text-content h2 {
      font-size: 2.5rem;
    }

    .robot-gif {
      margin-top: 2rem;
    }
  }
  </style>
</head>
<body>
  <header>
    <h1>AI Interview Coach</h1>
    <div class="profile-container">
      <div onclick="toggleDropdown()" class="profile">ðŸ‘¤ {{ request.user.username }} âŒ„</div>
      <div class="dropdown-menu" id="dropdown">
        <a href="{% url 'profile' %}">Your Profile</a>
        <a href="{% url 'dashboard' %}">Dashboard</a>
        <form method="POST" action="{% url 'logout_confirm' %}" style="margin: 0;">
            {% csrf_token %}
            <button type="submit" style="
                background: none;
                border: none;
                color: white;
                padding: 12px 16px;
                text-align: left;
                width: 100%;
                font-size: 0.95rem;
                cursor: pointer;
                font-family: inherit;
            ">Sign Out</button>
        </form>
      </div>
    </div>
  </header>

  <section class="hero">
    <div class="hero-text">
      <h2 class="typing-text">Welcome Back! {{ request.user.username }} ðŸ‘‹</h2>
      <p>Ready to sharpen your skills <br>
        Click the button below to begin your journey.</p>
      <a href="{% url 'select_role' %}" class="start-button">ðŸš€ Start an Interview</a>
    </div>
    <div class="robot-gif">
      <img src="{% static 'images/robot1.jpg' %}" alt="Robot Greeting" />
    </div>
  </section>

  <section class="about" id ='about'>
    <h2>About Us</h2>
    <p>
        AI Interview Coach is your personal AI-driven platform to help you master interviews.
        With dynamic question generation, real-time voice and text feedback, progress tracking,
        and gamification â€” we're revolutionizing the way you prepare for your next big opportunity.
        Whether you're a fresher or an experienced developer, our system adapts to your level and helps
        you grow with confidence.
    </p>
  </section>

  <script>
    function toggleDropdown() {
      const dropdown = document.getElementById("dropdown");
      dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
    }

    // Optional: Hide dropdown if clicked outside
    window.onclick = function(e) {
      if (!e.target.matches('.profile')) {
        document.getElementById("dropdown").style.display = "none";
      }
    }
  </script>
</body>
</html>
